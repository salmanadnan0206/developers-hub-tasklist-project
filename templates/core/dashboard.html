{% extends 'partials/base.html' %}
{% load static %}

{% block content %}

<!-- <style>
    .chart-container {
        width: 100%;
        max-width: 800px;
        margin: auto;
    }
    .chart-container img {
        width: 100%;
        height: auto;
        display: block;
        margin: auto;
    }
</style> -->

<h1>Dashboard</h1>

<h2>Task Completion Rate</h2>
<p>{{ completion_percentage }}% tasks completed</p>

<h2>Overdue Tasks</h2>
<p>{{ overdue_tasks }} tasks are overdue</p>

<h2>Weekly Task Trends</h2>
{% if weekly_trend_img %}
    <div class="chart-container">
        <img src="data:image/png;base64,{{ weekly_trend_img }}" alt="Weekly Task Trends">
    </div>
{% else %}
    <p>No data available. Add tasks to see trends.</p>
{% endif %}

<h2>Task Status Distribution</h2>
{% if status_pie_chart_img %}
    <div class="chart-container">
        <img src="data:image/png;base64,{{ status_pie_chart_img }}" alt="Task Status Distribution">
    </div>
{% else %}
    <p>No data available. Create tasks to see status distribution.</p>
{% endif %}

<h2>Task Due Date Trends</h2>
{% if due_date_trends_img %}
    <div class="chart-container">
        <img src="data:image/png;base64,{{ due_date_trends_img }}" alt="Task Due Date Trends">
    </div>
{% else %}
    <p>No data available. Complete tasks to see due date trends.</p>
{% endif %}

{% endblock %}
